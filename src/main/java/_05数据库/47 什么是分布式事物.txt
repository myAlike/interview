47 什么是分布式事物？
分布式事务是 指事务的参与者、支持事务的服务器、资源服务器以及 事务管理器分别位于不同的分 布式系统的不同节 点之上。为了实现分布式事务，需要使
用下面将介绍 的两阶段提交协议。 * 阶段一：开始向事务涉及到的全部 资源发送提交前信息。此时，事务涉及到的 资源还有最后一次机会来异常结 束事务。如
果任意一个资 源决定异常结束事务，则整个事 务取消，不会进行资源的更 新。 否则，事务将正常执行，除非发生灾难 性的失败。为了防止会发生灾难 性的失败，
所有资源的更 新都会写入到日志中。这些日志是永久 性的，因此，这些日志会幸免遇难并且在失 败之后可以重新对所 有资源进行更新。 * 阶段二：只在阶段一
没有异常结束 的时候才会发生。此时，所有能被定位和 单独控制的资源管理器都将开 始执行真正的数据更新。 在分布式 事务两阶段提交协议中，有一个主事 务
管理器负责充 当分布式事务协调器的角色。事务协 调器负责整个事务并使之与网络 中的其他事务管理器协同工作。 为了实 现分布式事务，必须使用一种协议在
分布式事务 的各个参与者之间传递事务 上下文信息， IIOP 便是这种协议。 这就要求不同开发商开发的事务参与者 必须支持一种标准协议，才 能实现分布式的事
务